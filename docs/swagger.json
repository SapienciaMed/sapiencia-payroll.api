{"openapi":"3.0.0","info":{"title":"Documentación API Autenticación","version":"1.0.0","description":"Catalago de servicios"},"components":{"securitySchemes":{"apiAuth":{"type":"http","description":"Login with email and password to get the authentication token","name":"Token based Based","in":"header","bearerFormat":"JWT","scheme":"bearer"}},"schemas":{"createWorker":{"type":"object","properties":{"worker":{"type":"object","properties":{"id":{"type":"number","example":1},"typeDocument":{"type":"string","example":"CC"},"numberDocument":{"type":"string","example":"1357902468"},"firstName":{"type":"string","example":"Jhon"},"secondName":{"type":"string","example":"James"},"surName":{"type":"string","example":"Doe"},"secondSurname":{"type":"string","example":"Smith"},"gender":{"type":"string","example":"F"},"bloodType":{"type":"string","example":"2"},"birthDate":{"type":"date","example":"2000-06-27T09:40:02.350-05:00"},"nationality":{"type":"string","example":"Col"},"email":{"type":"string","example":"jhon.doe@example.com"},"contactNumber":{"type":"string","example":"3123456789"},"department":{"type":"string","example":"5"},"municipality":{"type":"string","example":"1"},"neighborhood":{"type":"string","example":"101"},"address":{"type":"string","example":"Calle 50 45 60"},"socioEconomic":{"type":"string","example":"2"},"eps":{"type":"string","example":"3"},"severanceFund":{"type":"string","example":"2"},"arl":{"type":"string","example":"3"},"riskLevel":{"type":"string","example":"1"},"housingType":{"type":"string","example":"2"},"fundPension":{"type":"string","example":"1"},"userModified":{"type":"string","example":"test"},"dateModified":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"},"userCreate":{"type":"string","example":"test"},"dateCreate":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"}}},"relatives":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","example":1},"workerId":{"type":"number","example":1},"name":{"type":"string","example":"jane doe smith"},"relationship":{"type":"string","example":"1"},"gender":{"type":"string","example":"F"},"birthDate":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"}}}},"employment":{"type":"object","properties":{"id":{"type":"number","example":1},"workerId":{"type":"number","example":1},"idCharge":{"type":"number","example":1},"institutionalMail":{"type":"string","example":"jhonDoe@institutional.com"},"contractNumber":{"type":"string","example":"12345678"},"startDate":{"type":"date","example":"2023-06-27T09:40:02.350-05:00"},"endDate":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"},"state":{"type":"string","example":"1"},"idTypeContract":{"type":"number","example":1},"userModified":{"type":"string","example":"test"},"dateModified":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"},"userCreate":{"type":"string","example":"test"},"dateCreate":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"}}}}},"user":{"type":"object","properties":{"documentType":{"type":"string","example":"CC"},"documentNumber":{"type":"string","example":"234556677"},"names":{"type":"string","example":"Diana"},"surnames":{"type":"string","example":"Perez"},"email":{"type":"string","example":"diana@buencom.com"},"gender":{"type":"string","example":"Femenino"},"contactNumber1":{"type":"string","example":""},"contactNumber2":{"type":"string","example":""},"deparment":{"type":"string","example":"1"},"municipality":{"type":"string","example":"1"},"district":{"type":"string","example":"1"},"address":{"type":"string","example":"Cra 38"},"createdDate":{"type":"string","example":""},"modifiedDate":{"type":"string","example":""}}},"vacation":{"type":"object","properties":{"vacationDay":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","example":1},"codVacation":{"type":"number","example":1},"dateFrom":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"},"dateUntil":{"type":"date","example":"2023-07-11T09:40:02.350-05:00"},"enjoyedDays":{"type":"number","example":5},"paid":{"type":"boolean","example":false},"codForm":{"type":"number","example":1},"observation":{"type":"string","example":"test"}}}},"periodId":{"type":"number","example":1},"enjoyedDays":{"type":"number","example":5},"avaibleDays":{"type":"number","example":10},"refundDays":{"type":"number","example":3},"formedDays":{"type":"number","example":2}}},"RefundVacation":{"type":"object","properties":{"id":{"type":"number","example":1},"idVacationDay":{"type":"number","example":1},"dateFrom":{"type":"date","example":"2023-08-11T09:40:02.350-05:00"},"dateUntil":{"type":"date","example":"2023-08-15T09:40:02.350-05:00"},"observation":{"type":"string","example":"test"},"available":{"type":"number","example":10},"refundTypes":{"type":"string","example":"General"},"refund":{"type":"number","example":2},"enjoyed":{"type":"number","example":5}}}}},"paths":{"/api/v1/employment/":{"post":{"tags":["Payroll"],"summary":"Permite la creación de una vinculación de un trabajador.","description":"Crea una vinculación a partir de los campos requeridos.","operationId":"createWorker","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/createWorker"}}}},"produces":["application/json"],"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"FundPension":1,"address":"cl 98 28 29","birthDate":"2000-01-12T00:00:00.000-05:00","bloodType":"O+","contactNumber":"908637216","dateCreate":"2023-07-11T13:48:28.204-05:00","dateModified":"2023-07-11T13:48:28.204-05:00","department":"Antioquia","email":"jane.doe@example.co","eps":"Sura","firstName":"Jane","gender":"F","housingType":"Propia","id":7,"municipality":"Medellín","nationality":"COL","neighborhood":"Aranjuez","numberDocument":"098765","riskLevel":"riesgo-3","secondSurname":"smith","severanceFund":"Protección","socioEconomic":"2","surname":"doe","typeDocument":"TI"}],"operation":{"code":"OK","message":""}}}}}}}}}},"/api/v1/employment/charges":{"get":{"tags":["Payroll"],"summary":"Permite la consulta de los cargos.","description":"Permite la consulta de la lista de los cargos.","operationId":"getCharges","produces":["application/json"],"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"id":8,"name":"Secretaria","codUnit":1,"codChargeType":1,"baseSalary":"0.00","state":"Activo","userModify":null,"dateModified":"2023-07-11T08:38:48.212-05:00","userCreate":"test","dateCreate":"2023-07-11T08:38:48.212-05:00"}],"operation":{"code":"OK","message":""}}}}}}}}}},"/api/v1/employment/typesContracts":{"get":{"tags":["Payroll"],"summary":"Permite la consulta de los tipos de contratos.","description":"Permite la consulta de la lista de los tipos de contratos.","operationId":"getTypesContracts","produces":["application/json"],"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"id":1,"name":"Libre Nombramiento y Remoción","temporary":false}],"operation":{"code":"OK","message":""}}}}}}}}}},"/api/v1/role/get-paginated":{"get":{"parameters":[{"in":"path","name":"id","schema":{"type":"number"},"required":true,"description":"Id del usuario"}],"tags":["Roles"],"summary":"Permite la consulta de un roles por filtros y paginado","produces":["application/json"],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/user"},"examples":{"Action":{"value":{"data":[{"id":1,"documentType":"Cédula de ciudadanía","documentNumber":"797940","names":"Usuario","surnames":"Test","email":"pro39df@gmail.com","gender":"m","contactNumber1":null,"contactNumber2":null,"deparment":"Antioquia","municipality":"Medellin","district":"Altavista","address":null,"createdDate":"2023-03-02T14:22:00.347Z","modifiedDate":null}],"operation":{"code":"OK","message":""}}}}}}}},"security":[{"apiAuth":[]}]}},"/api/v1/vacations/create":{"post":{"tags":["Vacation"],"summary":"Permite la creación de periodos disfrutados de vacaciones.","description":"Crea un periodo disfrutado.","operationId":"createVacation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/vacation"}}}},"produces":["application/json"],"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"vacationDay":[{"id":1,"codVacation":1,"dateFrom":"DateTime.fromISO(\"02/08/2023\")","dateUntil":"DateTime.fromISO(\"02/16/2023\")","enjoyedDays":5,"paid":false,"codForm":1,"observation":"test"},{"id":2,"codVacation":1,"dateFrom":"DateTime.fromISO(\"02/08/2023\")","enjoyedDays":2,"paid":true,"codForm":1,"observation":"test"}]}],"operation":{"code":"OK","message":""}}}}}}}}}},"/api/v1/vacations/":{"put":{"tags":["Vacation"],"summary":"Permite la creación de un reintegro a un periodo de vacaciones.","description":"Crea un reintegro a partir de los campos requeridos.","operationId":"updateVacation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefundVacation"}}}},"produces":["application/json"],"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"id":1,"codEmployment":1,"period":2023,"dateFrom":"2023-07-11T13:48:28.204-05:00","dateUntil":"2023-07-15T13:48:28.204-05:00","periodFormer":2,"enjoyed":3,"refund":3,"available":3,"days":9,"periodClosed":false}],"operation":{"code":"OK","message":""}}}}}}}}}},"/api/v1/vacations/workerVacation":{"post":{"tags":["Vacation"],"summary":"Obtener la información de vacaciones de un trabajador.","description":"Obtiene los periodos de vacaciones de un trabajador.","operationId":"getWorkerVacation","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"workerId":{"type":"number","example":1,"description":"ID del trabajador.","required":true},"period":{"type":"number","example":2023,"description":"Año del período de vacaciones.","required":true}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"id":1,"codEmployment":1,"period":2023,"dateFrom":"2023-07-11T13:48:28.204-05:00","dateUntil":"2023-07-15T13:48:28.204-05:00","periodFormer":2,"enjoyed":3,"refund":3,"available":3,"days":9,"periodClosed":false,"vacationDay":[{"userCreate":"","id":5,"codVacation":2,"dateFrom":"2023-08-08T00:00:00.000-05:00","dateUntil":"","enjoyedDays":1,"paid":true,"codForm":"","observation":"pruebas","refundType":"","dateModified":"2023-08-08T16:11:17.137-05:00","dateCreate":"2023-08-08T16:11:17.137-05:00"},{"userCreate":"","id":4,"codVacation":2,"dateFrom":"2023-08-08T00:00:00.000-05:00","dateUntil":"2023-08-17T00:00:00.000-05:00","enjoyedDays":8,"paid":false,"codForm":"","observation":"pruebas, pruebas, pruebas","refundType":"general","dateModified":"2023-08-08T16:14:23.502-05:00","dateCreate":"2023-08-08T16:11:17.102-05:00"}],"employment":{"id":1,"workerId":3,"idCharge":5,"idTypeContract":3,"institutionalMail":"jhon.doe@institutional.com","contractNumber":"908763512","startDate":"2023-07-14T00:00:00.000-05:00","endDate":"2023-08-03T00:00:00.000-05:00","state":"1","idReasonRetirement":"","salary":"5000000.00","totalValue":"0.00","observation":"","userModified":"","dateModified":"2023-08-04T09:37:54.544-05:00","userCreate":"","dateCreate":"2023-08-04T09:37:54.545-05:00","worker":{"userCreate":"","id":3,"typeDocument":"CC","numberDocument":"123456789","firstName":"Jhon","secondName":"James","surname":"Doe","secondSurname":"Smith","gender":"M","bloodType":"7","birthDate":"1990-01-26T05:00:00.000Z","nationality":"COL","email":"jhon.doe@example.co","contactNumber":"3012345678","department":"5","municipality":"1","neighborhood":"20","address":"cl 98 28 29","socioEconomic":"4","eps":"7","severanceFund":"5","arl":"1","fundPension":"2","riskLevel":"riesgo-3","housingType":"2","bank":"null","accountBankType":"","accountBankNumber":"7717170011","userModified":"","dateModified":"2023-08-04T09:37:54.306-05:00","dateCreate":"2023-08-04T09:37:54.306-05:00"}}}],"operation":{"code":"OK","message":""}}}}}}}}}},"/api/v1/vacations/get-paginated":{"post":{"tags":["Vacation"],"summary":"Obtener la información de vacaciones de un trabajador.","description":"Obtiene los periodos de vacaciones según los filtros.","operationId":"get-paginated-WorkerVacation","requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"workerId":{"type":"number","example":1,"description":"ID del trabajador.","required":false},"period":{"type":"number","example":2023,"description":"Año del período de vacaciones.","required":false}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"Action":{"value":{"data":[{"id":1,"codEmployment":1,"period":2023,"dateFrom":"2023-07-11T13:48:28.204-05:00","dateUntil":"2023-07-15T13:48:28.204-05:00","periodFormer":2,"enjoyed":3,"refund":3,"available":3,"days":9,"periodClosed":false,"vacationDay":[{"userCreate":"","id":5,"codVacation":2,"dateFrom":"2023-08-08T00:00:00.000-05:00","dateUntil":"","enjoyedDays":1,"paid":true,"codForm":"","observation":"pruebas","refundType":"","dateModified":"2023-08-08T16:11:17.137-05:00","dateCreate":"2023-08-08T16:11:17.137-05:00"},{"userCreate":"","id":4,"codVacation":2,"dateFrom":"2023-08-08T00:00:00.000-05:00","dateUntil":"2023-08-17T00:00:00.000-05:00","enjoyedDays":8,"paid":false,"codForm":"","observation":"pruebas, pruebas, pruebas","refundType":"general","dateModified":"2023-08-08T16:14:23.502-05:00","dateCreate":"2023-08-08T16:11:17.102-05:00"}],"employment":{"id":1,"workerId":3,"idCharge":5,"idTypeContract":3,"institutionalMail":"jhon.doe@institutional.com","contractNumber":"908763512","startDate":"2023-07-14T00:00:00.000-05:00","endDate":"2023-08-03T00:00:00.000-05:00","state":"1","idReasonRetirement":"","salary":"5000000.00","totalValue":"0.00","observation":"","userModified":"","dateModified":"2023-08-04T09:37:54.544-05:00","userCreate":"","dateCreate":"2023-08-04T09:37:54.545-05:00","worker":{"userCreate":"","id":3,"typeDocument":"CC","numberDocument":"123456789","firstName":"Jhon","secondName":"James","surname":"Doe","secondSurname":"Smith","gender":"M","bloodType":"7","birthDate":"1990-01-26T05:00:00.000Z","nationality":"COL","email":"jhon.doe@example.co","contactNumber":"3012345678","department":"5","municipality":"1","neighborhood":"20","address":"cl 98 28 29","socioEconomic":"4","eps":"7","severanceFund":"5","arl":"1","fundPension":"2","riskLevel":"riesgo-3","housingType":"2","bank":"null","accountBankType":"","accountBankNumber":"7717170011","userModified":"","dateModified":"2023-08-04T09:37:54.306-05:00","dateCreate":"2023-08-04T09:37:54.306-05:00"}}}],"operation":{"code":"OK","message":""}}}}}}}}}}},"tags":[]}